<nz-table
  [nzLoading]="isLoading"
  #nzTable
  [nzData]="candidatesList"
  nzTableLayout="fixed"
  (nzQueryParams)="onQueryParamsChange($event)"
>
  <thead>
    <tr>
      <th
        nzWidth="40px"
        [(nzChecked)]="checked"
        [nzIndeterminate]="indeterminate"
        (nzCheckedChange)="onAllChecked($event)"
      ></th>
      <th
        nzColumnKey="name"
        [nzSortFn]="true"
        [nzSortDirections]="['ascend', 'descend', null]"
        [nzSortPriority]="true"
      >
        Name
      </th>
      <th
        nzColumnKey="primarySkill"
        [nzSortFn]="true"
        [nzSortDirections]="['ascend', 'descend', null]"
        [nzSortPriority]="true"
      >
        Primary skill
      </th>
      <th
        nzColumnKey="status"
        [nzSortFn]="true"
        [nzSortDirections]="['ascend', 'descend', null]"
        [nzSortPriority]="true"
      >
        Status
      </th>
      <th
        nzWidth="90px"
        [nzSortDirections]="['ascend', 'descend', null]"
        nzColumnKey="test"
        [nzSortFn]="true"
        [nzSortPriority]="true"
      >
        Test
      </th>
      <th
        [nzSortDirections]="['ascend', 'descend', null]"
        nzColumnKey="entryInterview"
        [nzSortFn]="true"
        [nzSortPriority]="true"
      >
        Entry Interview
      </th>
      <th
        [nzSortDirections]="['ascend', 'descend', null]"
        nzColumnKey="mentor"
        [nzSortFn]="true"
        [nzSortPriority]="true"
      >
        Mentor
      </th>
      <th
        [nzSortDirections]="['ascend', 'descend', null]"
        nzColumnKey="finishInterview"
        [nzSortFn]="true"
        [nzSortPriority]="true"
      >
        Finish Interview
      </th>
      <th
        [nzSortDirections]="['ascend', 'descend', null]"
        nzColumnKey="recruiter"
        [nzSortFn]="true"
        [nzSortPriority]="true"
      >
        Recruiter
      </th>
      <th nzWidth="60px"></th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let candidate of nzTable.data">
      <td
        [nzChecked]="setOfCheckedId.has(candidate.id)"
        (nzCheckedChange)="onItemChecked(candidate.id, $event)"
      ></td>
      <td>{{ candidate.name }} {{ candidate.surname }}</td>
      <td>
        <p *ngFor="let skill of candidate.projectResults">
          {{ skill.primarySkill.name }}
        </p>
      </td>
      <td>
        <p *ngFor="let status of candidate.projectResults">
          {{ status.status}}
        </p>
        <!-- {{
          candidate.projectResults[0]
            ? candidateStatuses[candidate.projectResults[0].status]
            : "none"
        }} -->
      </td>
      <td>
        {{ getFeedbackRate(candidate, "Test") }}
      </td>
      <td>
        <app-rating-stars
          [rate]="getFeedbackRate(candidate, 'Interview')"
          [isDisabled]="true"
        ></app-rating-stars>
      </td>
      <td>
        <app-rating-stars
          [rate]="getFeedbackRate(candidate, 'TechInterviewOneStep')"
          [isDisabled]="true"
        ></app-rating-stars>
      </td>
      <td>
        <app-rating-stars
          [rate]="getFeedbackRate(candidate, 'Mentor')"
          [isDisabled]="true"
        ></app-rating-stars>
      </td>
      <td>
        <app-rating-stars
          [rate]="getFeedbackRate(candidate, 'TechInterviewSecondStep')"
          [isDisabled]="true"
        ></app-rating-stars>
      </td>

      <td>
        <button
          class="profile-btn"
          [routerLink]="['/' + paths.profile, candidate.id, currentProjectId]"
        ></button>
      </td>
    </tr>
  </tbody>
</nz-table>

<!-- projectResults -->
